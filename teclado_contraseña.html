<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interacción Teclado-LCD - Actividad</title>
  <style>
    :root { font-size: 16px; }
    @media (min-width: 600px) { :root { font-size: 18px; } }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      margin: 0; padding: 0;
      background-color: #f4f7f8; color: #333;
    }
    header {
      background: linear-gradient(90deg, #2a9d8f, #21867a);
      color: white; padding: 1rem; text-align: center;
    }
    nav {
      display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem;
      background-color: #264653; padding: 0.5rem;
    }
    nav a {
      color: white; text-decoration: none;
      padding: 0.5rem 1rem; border-radius: 4px;
      transition: background 0.3s ease;
    }
    nav a:hover { background-color: #2a9d8f; }
    main {
      padding: 1rem; max-width: 900px; margin: auto;
    }
    section {
      margin-bottom: 2rem;
      background: white; padding: 1.5rem;
      border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    h2 {
      border-bottom: 2px solid #2a9d8f;
      padding-bottom: 0.5rem; margin-bottom: 1rem;
      color: #264653;
    }
    pre {
      background-color: #1e1e1e; color: #dcdcdc;
      padding: 1rem; border-radius: 5px; overflow-x: auto;
    }
    iframe {
      width: 100%; max-width: 800px; height: 450px; border: none; border-radius: 8px; margin-bottom: 1rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }
    @media (min-width: 600px) { iframe { height: 600px; } }
    footer {
      text-align: center; padding: 1rem;
      background-color: #264653; color: white;
      font-size: 0.9rem;
    }
    .next-page {
      display: block;
      text-align: center;
      margin-top: 20px;
    }
    .next-page a {
      background-color:#2a9d8f;
      color:white;
      padding:0.5rem 1rem;
      border-radius:5px;
      text-decoration:none;
      font-weight:bold;
    }
    .next-page a:hover { background-color:#21867a; }
  </style>
</head>
<body>
  <header><h1>Interacción Teclado-LCD - Actividad</h1></header>
  <nav>
    <a href="#introduccion">Introducción</a>
    <a href="#codigo">Código Arduino</a>
    <a href="#simulacion">Simulación</a>
    <a href="#conclusion">Conclusión</a>
  </nav>
  <main>
    <!-- Introducción -->
    <section id="introduccion">
      <h2>1. Introducción</h2>
      <p>
        Esta actividad implementa un sistema de ingreso mediante teclado matricial conectado a Arduino, mostrando la entrada en un display LCD. 
        Si la contraseña ingresada es correcta, se enciende un LED y se muestra "CORRECTO" en el LCD. 
        En caso contrario, se muestra "INCORRECTO" y se activa un buzzer durante 2 segundos.
        Este proyecto refuerza la comprensión de entradas y salidas digitales, así como la interacción con periféricos en Arduino.
      </p>
    </section>

    <!-- Código Arduino -->
    <section id="codigo">
      <h2>2. Código Arduino</h2>
      <pre><code>#include &lt;LiquidCrystal.h&gt;
#include &lt;Keypad.h&gt;
#include &lt;string.h&gt;

LiquidCrystal lcd(7, 6, 5, 4, 3, 2);

const byte FILAS = 4;
const byte COLUMNAS = 4;
char teclas[FILAS][COLUMNAS] = {
  {'1','2','3','A'},
  {'4','5','6','B'},
  {'7','8','9','C'},
  {'*','0','#','D'}
};
byte pinesFilas[FILAS] = {10, 9, A5, A4};
byte pinesColumnas[COLUMNAS] = {A3, A2, A1, A0};
Keypad teclado = Keypad(makeKeymap(teclas), pinesFilas, pinesColumnas, FILAS, COLUMNAS);

const int ledPin = 12;
const int buzzerPin = 11;

char password[4] = "123";
char ingreso[4];
byte indexIngreso = 0;

void setup() {
  lcd.begin(16, 2);
  pinMode(ledPin, OUTPUT);
  pinMode(buzzerPin, OUTPUT);
  mostrarMensajeInicio();
}

void loop() {
  char tecla = teclado.getKey();
  if (tecla) {
    if (tecla == '#') {
      ingreso[indexIngreso] = '\0';
      verificarClave();
      indexIngreso = 0;
    }
    else if (tecla == '*') {
      indexIngreso = 0;
      mostrarMensajeInicio();
    }
    else if (indexIngreso &lt; 3) {
      ingreso[indexIngreso] = tecla;
      indexIngreso++;
      lcd.setCursor(0, 1);
      for (byte i = 0; i &lt; indexIngreso; i++) lcd.print("*");
    }
  }
}

void verificarClave() {
  if (strcmp(password, ingreso) == 0) {
    lcd.clear();
    lcd.setCursor(4, 0);
    lcd.print("Correcto");
    digitalWrite(ledPin, HIGH);
    digitalWrite(buzzerPin, LOW);
  } else {
    lcd.clear();
    lcd.setCursor(3, 0);
    lcd.print("Incorrecto");
    digitalWrite(ledPin, LOW);
    digitalWrite(buzzerPin, HIGH);
    delay(2000);
    digitalWrite(buzzerPin, LOW);
  }
  delay(1500);
  mostrarMensajeInicio();
}

void mostrarMensajeInicio() {
  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("Ingrese clave:");
  lcd.setCursor(0, 1);
}</code></pre>
    </section>

    <!-- Simulación -->
    <section id="simulacion">
      <h2>3. Simulación en Tinkercad</h2>
      <iframe src="https://www.tinkercad.com/embed/1H2lEgfEgM7?editbtn=1"></iframe>
      <p>
        El iframe permite interactuar con la simulación directamente desde la página, observar la entrada del usuario, el comportamiento del LCD y las alertas en LED y buzzer.
      </p>
    </section>

    <!-- Conclusión -->
    <section id="conclusion">
      <h2>4. Conclusión</h2>
      <p>
        Esta actividad refuerza la comprensión de la interacción entre entradas digitales (teclado) y salidas visuales y sonoras (LCD, LED, buzzer), mostrando cómo se puede implementar un sistema de seguridad sencillo con Arduino.
      </p>
      <p>
        La simulación en Tinkercad permite experimentar de forma segura y visual, verificando el funcionamiento del sistema sin necesidad de hardware físico.
      </p>
      <div class="next-page">
        <a href="index.html">Siguiente: Home</a>
      </div>
    </section>
  </main>
  <footer>
    <p>Diseñado para VS Code • Interacción Teclado-LCD</p>
  </footer>
</body>
</html>
